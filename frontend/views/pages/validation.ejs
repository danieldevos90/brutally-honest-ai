<% 
  layout = 'layout';
  pageTitle = 'Validation';
  extraScripts = ['shared.js', 'validation.js'];
%>

<!-- Status Bar -->
<div class="flex justify-between items-center mb-4" style="justify-content: center;">
  <div class="flex gap-4 text-xs text-muted">
    <span><span id="kb-documents" class="font-medium">0</span> docs</span>
    <span><span id="kb-profiles" class="font-medium">0</span> profiles</span>
    <span class="badge badge-success">Ready</span>
  </div>
</div>

<!-- Quick Validation -->
<div class="card mb-4">
  <div class="card-header">
    <span class="font-medium">Quick Validation Test</span>
  </div>
  <form id="validation-form" class="flex flex-col gap-4">
    <textarea id="test-text" class="input" rows="4" placeholder="Enter text to validate (e.g., 'Praxis has 200 stores across Europe')"></textarea>
    <button type="submit" class="btn btn-primary w-full" id="validate-btn">Validate Now</button>
  </form>
</div>

<!-- Validation Results -->
<div id="validation-results-section" class="card mb-4" style="display: none;">
  <div class="card-header">
    <span class="font-medium">Validation Results</span>
  </div>
  <div id="validation-results" class="flex flex-col gap-3">
  </div>
</div>

<!-- How It Works -->
<div class="card">
  <div class="card-header">
    <span class="font-medium">How Validation Works</span>
  </div>
  <div class="flex flex-col gap-4">
    <div class="flex gap-3 items-center">
      <div class="badge">1</div>
      <div>
        <div class="font-medium text-sm">Claim Extraction</div>
        <div class="text-xs text-muted">AI extracts factual claims from your text</div>
      </div>
    </div>
    <div class="flex gap-3 items-center">
      <div class="badge">2</div>
      <div>
        <div class="font-medium text-sm">Knowledge Base Search</div>
        <div class="text-xs text-muted">Each claim is checked against documents and profiles</div>
      </div>
    </div>
    <div class="flex gap-3 items-center">
      <div class="badge">3</div>
      <div>
        <div class="font-medium text-sm">AI Validation</div>
        <div class="text-xs text-muted">LLM analyzes evidence to confirm or contradict claims</div>
      </div>
    </div>
    <div class="flex gap-3 items-center">
      <div class="badge">4</div>
      <div>
        <div class="font-medium text-sm">Results & Warnings</div>
        <div class="text-xs text-muted">Get credibility score and warnings for contradictions</div>
      </div>
    </div>
  </div>
</div>
